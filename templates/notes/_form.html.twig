{{ form_start(form) }}
<style>
.tableau{
	display: inline-block;
	max-width: 24%;
	padding:5px;
}
</style>
<div class="row">
	<div class="col-md-3">
		{{ form_label(form.classes, 'Classe') }}
		{{ form_row(form.classes,{'attr': {'class': 'form-control select'}}) }}
		{{ form_errors(form.classes) }}
	</div>
	<div class="col-md-3">
		{{ form_label(form.type, 'Type') }}
		{{ form_row(form.type,{'attr': {'class': 'form-control select'}}) }}
		{{ form_errors(form.type) }}
	</div>
	<div class="col-md-3">
		{{ form_label(form.blocid, 'Bloc') }}
		{{ form_row(form.blocid,{'attr': {'class': 'form-control select'}}) }}
		{{ form_errors(form.blocid) }}
	</div>
	<div class="col-md-3">
		{{ form_label(form.moduleid, 'Module') }}
		{{ form_row(form.moduleid,{'attr': {'class': 'form-control select'}}) }}
		{{ form_errors(form.moduleid) }}
	</div>
</div>
<br>

	{% macro tagCollectionItem(tableau) %}
						<div class="row">
				<div class="col-md-3">Apprenant</div>
					<div class="col-md-3">Note /20</div>
					<div class="col-md-3">Observation</div>
					<div class="col-md-3">Pi√®ce jointe</div>
						<div class="col-md-3">
					
				{{ form_row(tableau.etudiant,{'attr': {'class': 'form-control '}}) }}
				{{ form_errors(tableau.etudiant) }}
						</div>

					<div class="col-md-3">
						
				{{ form_row(tableau.note1,{'attr': {'class': 'form-control '}}) }}
				{{ form_errors(tableau.note1) }}
				<br>
						{{ form_row(tableau.observation1,{'attr': {'class': 'form-control '}}) }}
				{{ form_errors(tableau.observation1) }}
						</div>
							<div class="col-md-3">
						
				{{ form_row(tableau.note2,{'attr': {'class': 'form-control '}}) }}
				{{ form_errors(tableau.note2) }}
				<br>
						{{ form_row(tableau.observation2,{'attr': {'class': 'form-control '}}) }}
				{{ form_errors(tableau.observation2) }}
						</div>
									<div class="col-md-3">
						
				{{ form_row(tableau.note3,{'attr': {'class': 'form-control '}}) }}
				{{ form_errors(tableau.note3) }}
				<br>
						{{ form_row(tableau.observation3,{'attr': {'class': 'form-control '}}) }}
				{{ form_errors(tableau.observation3) }}
						</div>
								
									
		
			</div>
		
			
		
	{% endmacro %}
	
			
	<div class="tags" style="width:100%; "  data-prototype="{{ _self.tagCollectionItem(form.tableau.vars.prototype)|e }}">

	
							
		{% for tableau in form.tableau %}

	{{ _self.tagCollectionItem(tableau) }}

		{% endfor %}

	
			
		
	</div>
	


<br>


<button class="btn">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}

<script>
const addTagLink = document.createElement('a')
addTagLink.classList.add('add_tag_list')
addTagLink.href='#'
addTagLink.innerText='Add a tag'
addTagLink.dataset.collectionHolderClass='tags'

const newLinkLi = document.createElement('div').append(addTagLink)

const collectionHolder = document.querySelector('div.tags')
collectionHolder.appendChild(addTagLink)

const addFormToCollection = (e) => {
	const collectionHolder = document.querySelector('.' + e.currentTarget.dataset.collectionHolderClass);

      const item = document.createElement('div');
		
      item.innerHTML = collectionHolder
        .dataset
        .prototype
        .replace(
          /__name__/g,
          collectionHolder.dataset.index
        );

      collectionHolder.appendChild(item);

      collectionHolder.dataset.index++;
	  collectionHolder.appendChild(addTagLink)
}

addTagLink.addEventListener("click", addFormToCollection)
</script>